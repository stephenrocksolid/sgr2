{% load static %}

{% if engines %}
<table class="related-table">
    <thead>
        <tr>
            <th>Engine Make</th>
            <th>Engine Model</th>
            <th>Serial Number</th>
            <th>Status</th>
            <th style="width: 80px; text-align: right;">Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for engine in engines %}
            <tr onclick="window.location='{% url 'inventory:engine_detail' engine.pk %}';">
                <td><strong>{{ engine.engine_make }}</strong></td>
                <td>{{ engine.engine_model }}</td>
                <td>{{ engine.serial_number|default:"—" }}</td>
                <td>{{ engine.status|default:"—" }}</td>
                <td style="text-align: right;" onclick="event.stopPropagation();">
                    <button 
                        class="btn-icon btn-danger"
                        hx-post="{% url 'inventory:build_list_engine_remove' build_list.pk engine.pk %}"
                        hx-target="#engines-table-container"
                        hx-swap="innerHTML"
                        hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'
                        onclick="return confirm('Remove this engine from build list?');"
                        title="Remove">
                        ✕
                    </button>
                </td>
            </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<div class="empty-state">
    <p>This build list is not assigned to any engines yet.</p>
    <p style="font-size: 0.875rem; color: var(--gray-500);">Click "+ Add Engine" to assign this build list to engines.</p>
</div>
{% endif %}

