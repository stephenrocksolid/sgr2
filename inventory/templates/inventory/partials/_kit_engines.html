{% load static %}

{% if engines %}
<table class="related-table">
    <thead>
        <tr>
            <th>Engine</th>
            <th>Type</th>
            <th style="width: 80px; text-align: right;">Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for engine in engines %}
            <tr onclick="window.location='{% url 'inventory:engine_detail' engine.pk %}';">
                <td><strong>{{ engine }}</strong></td>
                <td>{{ engine.get_engine_type_display|default:"—" }}</td>
                <td style="text-align: right;" onclick="event.stopPropagation();">
                    <button 
                        class="btn-icon btn-danger"
                        hx-post="{% url 'inventory:kit_engine_remove' kit.pk engine.pk %}"
                        hx-target="#kit-engines-table-container"
                        hx-swap="innerHTML"
                        hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'
                        onclick="return confirm('Remove this engine from the kit?');"
                        title="Remove">
                        ✕
                    </button>
                </td>
            </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<div class="empty-state">
    <p>No engines assigned yet.</p>
    <p style="font-size: 0.875rem; color: var(--gray-500);">Click "Add Engine" to assign this kit to engines.</p>
</div>
{% endif %}

