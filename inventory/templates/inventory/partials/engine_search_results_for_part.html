{% if engines %}
    {% for engine in engines %}
        <div class="engine-result-row"
             hx-post="{% url 'inventory:part_engine_add' part.id %}"
             hx-vals='{"engine_id": "{{ engine.id }}"}'
             hx-target="#part-engines-section"
             hx-swap="innerHTML"
             hx-on::after-request="if(event.detail.successful) document.querySelector('.modal-overlay').remove();">
            <div class="result-title">
                {{ engine.engine_make }} {{ engine.engine_model }}
            </div>
            <div class="result-details">
                <span><strong>Identifier:</strong> {{ engine.identifier|default:"â€”" }}</span>
                <span><strong>S/N:</strong> {{ engine.serial_number|default:"â€”" }}</span>
                {% if engine.sg_engine %}
                    <span class="result-badge">
                        SG: {{ engine.sg_engine.sg_make }} {{ engine.sg_engine.sg_model }}
                    </span>
                {% endif %}
                {% if engine.status %}
                    <span class="result-badge">{{ engine.status }}</span>
                {% endif %}
            </div>
        </div>
    {% endfor %}
{% else %}
    <div class="empty-state">
        <div class="empty-state-icon">ğŸ”</div>
        <p class="empty-state-text">
            {% if request.GET.q %}
                No engines found matching your search.
            {% else %}
                Start typing to search for engines...
            {% endif %}
        </p>
    </div>
{% endif %}


